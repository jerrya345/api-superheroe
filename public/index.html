<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¾ Mascotas Virtuales</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¾ Mascotas Virtuales</h1>
            <p>Â¡Cuida y juega con tu mascota!</p>
        </header>

        <div class="pet-container">
            <div class="pet">
                <div class="pet-sprite" id="petSprite">ğŸ•</div>
                <div class="pet-info">
                    <h2 id="petName">Luna</h2>
                    <div class="stats">
                        <div class="stat">
                            <span>â¤ï¸ EnergÃ­a:</span>
                            <div class="progress-bar">
                                <div class="progress" id="energyBar" style="width: 100%"></div>
                            </div>
                            <span id="energyValue">100%</span>
                        </div>
                        <div class="stat">
                            <span>ğŸ˜´ SueÃ±o:</span>
                            <div class="progress-bar">
                                <div class="progress" id="sleepBar" style="width: 0%"></div>
                            </div>
                            <span id="sleepValue">0%</span>
                        </div>
                        <div class="stat">
                            <span>ğŸ® DiversiÃ³n:</span>
                            <div class="progress-bar">
                                <div class="progress" id="funBar" style="width: 50%"></div>
                            </div>
                            <span id="funValue">50%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="activities">
            <h3>Actividades</h3>
            <div class="activity-buttons">
                <button class="activity-btn" onclick="play()">
                    ğŸ¾ Jugar
                </button>
                <button class="activity-btn" onclick="sleep()">
                    ğŸ˜´ Dormir
                </button>
                <button class="activity-btn" onclick="eat()">
                    ğŸ– Comer
                </button>
                <button class="activity-btn" onclick="walk()">
                    ğŸš¶â€â™‚ï¸ Pasear
                </button>
                <button class="activity-btn" onclick="train()">
                    ğŸ¯ Entrenar
                </button>
                <button class="activity-btn" onclick="cuddle()">
                    ğŸ¤— Abrazar
                </button>
            </div>
        </div>

        <div class="messages">
            <div id="messageLog" class="message-log"></div>
        </div>

        <div class="api-status">
            <h3>ğŸ”— Estado de la API</h3>
            <div id="apiStatus" class="status-indicator">Conectando...</div>
            <button onclick="testAPI()" class="test-btn">Probar API</button>
        </div>

        <div class="audio-controls">
            <h3>ğŸµ Controles de Audio</h3>
            <div class="control-buttons">
                <button id="musicToggle" onclick="toggleMusic()" class="control-btn">
                    ğŸ”‡ Silenciar MÃºsica
                </button>
                <button onclick="adjustVolume(0.1)" class="control-btn">ğŸ”‰ Bajar</button>
                <button onclick="adjustVolume(0.3)" class="control-btn">ğŸ”Š Subir</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Verificar autenticaciÃ³n
        window.addEventListener('load', () => {
            const user = localStorage.getItem('user');
            if (!user) {
                window.location.href = 'login.html';
                return;
            }

            const selectedPet = localStorage.getItem('selectedPet');
            if (!selectedPet) {
                window.location.href = 'pets.html';
                return;
            }

            // Cargar la mascota seleccionada
            const pet = JSON.parse(selectedPet);
            window.currentPet = pet;
            
            // No actualizar aquÃ­, dejar que script.js lo haga
            // para evitar conflictos
        });

        // FunciÃ³n para volver a la lista de mascotas
        function backToPets() {
            window.location.href = 'pets.html';
        }

        // Agregar botÃ³n de volver al header
        document.addEventListener('DOMContentLoaded', () => {
            const header = document.querySelector('header');
            const backButton = document.createElement('button');
            backButton.textContent = 'â† Volver a Mis Mascotas';
            backButton.style.cssText = `
                position: absolute;
                top: 20px;
                left: 20px;
                padding: 10px 15px;
                border: none;
                border-radius: 8px;
                background: rgba(255,255,255,0.2);
                color: white;
                cursor: pointer;
                transition: all 0.3s ease;
            `;
            backButton.onclick = backToPets;
            header.style.position = 'relative';
            header.appendChild(backButton);
        });
    </script>
</body>
</html> 